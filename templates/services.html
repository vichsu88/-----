{% extends "base.html" %}

{% block title %}æ‰¿å¤©ä¸­æ‰¿åºœ - æ¿Ÿä¸–æœå‹™{% endblock %}

{% block content %}
<style>
    /* === å…¨åŸŸè¨­å®š === */
    :root {
        --primary-gold: #C48945;
        --bg-offwhite: #F9F7F2;
        --text-dark: #333;
    }
    body { background-color: var(--bg-offwhite); }

    /* === 1. Hero é ‚éƒ¨å½±éŸ³å€ === */
    .service-hero {
        position: relative; width: 100%; height: 70vh; overflow: hidden;
        display: flex; justify-content: center; align-items: center; background: #000;
    }
    .video-background {
        position: absolute; top: 50%; left: 50%; width: 100vw; height: 100vh;
        transform: translate(-50%, -50%); pointer-events: none; opacity: 0.6; z-index: 1;
    }
    .video-background iframe { width: 100%; height: 100%; object-fit: cover; }
    .hero-content { position: relative; z-index: 2; text-align: center; color: #fff; padding: 20px; }
    .hero-title {
        font-family: 'KouzanBrushFontOTF', serif; font-size: 3.5rem; margin-bottom: 10px;
        text-shadow: 0 0 20px rgba(196, 137, 69, 0.8); letter-spacing: 5px;
    }
    .hero-subtitle {
        font-size: 1.4rem; font-weight: 300; margin-bottom: 30px; line-height: 1.6;
        text-shadow: 1px 1px 3px rgba(0,0,0,0.8);
    }
    .hero-nav { display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; }
    .nav-anchor {
        padding: 12px 30px; background: rgba(255, 255, 255, 0.15); backdrop-filter: blur(5px);
        border: 1px solid rgba(255, 255, 255, 0.4); color: #fff; text-decoration: none;
        border-radius: 50px; transition: 0.3s; font-weight: bold; letter-spacing: 1px;
    }
    .nav-anchor:hover { background: var(--primary-gold); border-color: var(--primary-gold); transform: translateY(-3px); }

    /* === 2. ç¾å ´å•äº‹å€ === */
    .gongtan-section {
        max-width: 1200px; margin: 60px auto; padding: 0 20px;
        display: flex; align-items: center; gap: 50px;
    }
    .gongtan-img-box { flex: 1; position: relative; }
    .gongtan-img { width: 100%; border-radius: 15px; box-shadow: 10px 10px 0 var(--primary-gold); object-fit: cover; }
    .gongtan-content { flex: 1; }
    .section-header { border-left: 5px solid var(--primary-gold); padding-left: 15px; margin-bottom: 30px; }
    .section-header h2 { font-size: 2rem; color: #8B4513; margin: 0; }
    .section-header span { color: #666; font-size: 1rem; }

    .process-steps { display: flex; flex-direction: column; gap: 20px; }
    .step-item {
        background: #fff; padding: 20px; border-radius: 10px; border-left: 4px solid #ddd;
        box-shadow: 0 4px 10px rgba(0,0,0,0.05); transition: 0.3s;
    }
    .step-item:hover { border-left-color: var(--primary-gold); transform: translateX(5px); }
    .step-title { font-weight: bold; color: #8B4513; font-size: 1.1rem; margin-bottom: 5px; display: flex; justify-content: space-between; align-items: center; }
    .step-desc { font-size: 0.95rem; color: #555; line-height: 1.5; }
    .line-btn { display: inline-block; background: #06c755; color: white; padding: 4px 10px; border-radius: 4px; font-size: 0.8rem; text-decoration: none; margin-left: 10px; }

    /* === 3. ä¿¡å¾’è¦‹è­‰ === */
    .feedback-section {
        background: #fff; padding: 50px 0; margin: 60px 0; border-top: 1px solid #eee; border-bottom: 1px solid #eee; overflow: hidden;
    }
    .marquee-wrapper { display: flex; width: 100%; position: relative; }
    .marquee-track { display: flex; gap: 30px; animation: scrollLeft 40s linear infinite; width: max-content; }
    .feedback-card { width: 300px; background: #F9F7F2; padding: 20px; border-radius: 10px; border: 1px solid #eee; flex-shrink: 0; }
    .fb-header { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; }
    .fb-avatar { width: 40px; height: 40px; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-weight: bold; color: #fff; background: var(--primary-gold); }
    .fb-content { font-size: 0.9rem; color: #555; line-height: 1.5; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }
    .fb-link { text-align: center; margin-top: 20px; }
    @keyframes scrollLeft { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }

    /* === 4. è¡£ç‰©æ”¶é©šæµç¨‹ === */
    .clothes-process-section { max-width: 1100px; margin: 0 auto 80px auto; padding: 0 20px; }
    .process-card-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; margin-top: 40px; }
    .process-card {
        background: #fff; border-radius: 15px; padding: 25px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.05); text-align: center;
        border: 1px solid #eee; transition: 0.3s; display: flex; flex-direction: column;
    }
    .process-card:hover { transform: translateY(-5px); box-shadow: 0 10px 25px rgba(196, 137, 69, 0.2); border-color: var(--primary-gold); }
    .card-title { font-size: 1.3rem; font-weight: bold; color: #8B4513; margin-bottom: 10px; }
    .card-desc { font-size: 0.95rem; color: #666; line-height: 1.6; min-height: 60px; margin-bottom: 15px; }
    .card-image-box { margin-bottom: 20px; height: 180px; display: flex; justify-content: center; align-items: center; background: #fafafa; border-radius: 10px; overflow: hidden; }
    .card-image-box img { max-width: 100%; max-height: 100%; object-fit: contain; }
    .card-btn { width: 100%; padding: 10px; border-radius: 50px; background: #C48945; color: white; border: none; cursor: pointer; margin-top: auto; transition: 0.3s; font-size: 1rem;}
    .card-btn:hover { background: #a06d35; }

    /* === 5. åº•éƒ¨æé¦™æ¨å»£å€ === */
    .donation-promo-section {
        background: linear-gradient(to bottom, #fffcf5, #f3e9d2);
        border-top: 4px double #C48945;
        padding: 80px 20px;
        text-align: center;
        margin-top: 0;
    }
    .donation-promo-content { max-width: 800px; margin: 0 auto; }
    .donation-icon { width: 80px; margin-bottom: 20px; filter: drop-shadow(0 4px 6px rgba(196, 137, 69, 0.3)); }
    .donation-promo-title { color: #8B4513; font-size: 2.2rem; margin-bottom: 20px; font-weight: bold; }
    .donation-promo-desc { color: #555; font-size: 1.1rem; line-height: 1.8; margin-bottom: 40px; }
    .btn-action {
        display: inline-block; padding: 15px 50px; font-size: 1.3rem; font-weight: bold;
        background: var(--primary-gold); color: white; text-decoration: none; border-radius: 50px;
        box-shadow: 0 5px 15px rgba(196, 137, 69, 0.4); transition: 0.3s;
    }
    .btn-action:hover { background: #a06d35; transform: scale(1.05); }

    /* === Modal å½ˆå‡ºè¦–çª—æ¨£å¼ === */
    .modal-overlay {
        display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(0, 0, 0, 0.6); z-index: 2000; justify-content: center; align-items: center;
        opacity: 0; transition: opacity 0.3s ease; /* æ·¡å…¥æ•ˆæœ */
    }
    .modal-overlay.show { display: flex; opacity: 1; }
    .modal-box {
        background: #fff; width: 90%; max-width: 600px; max-height: 90vh; overflow-y: auto;
        border-radius: 15px; padding: 30px; position: relative;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3); transform: scale(0.95); transition: transform 0.3s ease;
    }
    .modal-overlay.show .modal-box { transform: scale(1); }
    .modal-close { position: absolute; top: 15px; right: 20px; font-size: 30px; cursor: pointer; color: #999; transition: 0.2s; }
    .modal-close:hover { color: #333; }
    .modal-title { font-size: 1.5rem; color: #8B4513; margin-bottom: 20px; border-bottom: 2px solid #C48945; padding-bottom: 10px; }
    .modal-body { font-size: 1rem; color: #444; line-height: 1.8; }
    .modal-body ul, .modal-body ol { padding-left: 20px; margin-bottom: 15px; }
    .modal-body li { margin-bottom: 8px; }

    /* ç´…ç´™ CSS ç¹ªè£½ */
    .red-paper-visual {
        background: #d93025; color: black;
        width: 240px; height: 320px; margin: 20px auto; padding: 20px; box-sizing: border-box;
        border: 1px solid rgba(0,0,0,0.1); box-shadow: 3px 3px 10px rgba(0,0,0,0.2);
        display: flex; flex-direction: column; justify-content: space-between;
        font-family: "KaiTi", "BiauKai", serif; font-size: 1.1rem; text-align: center; position: relative;
    }
    .red-paper-date { position: absolute; top: 10px; left: 10px; font-size: 0.9rem; writing-mode: vertical-rl; }
    .red-paper-content { display: flex; flex-direction: column; gap: 10px; justify-content: center; height: 100%; }
    .red-paper-row { border-bottom: 1px dashed rgba(0,0,0,0.3); padding-bottom: 2px; }

    /* RWD */
    @media (max-width: 768px) {
        .hero-title { font-size: 2.2rem; }
        .gongtan-section { flex-direction: column; gap: 30px; }
        .process-card-container { grid-template-columns: 1fr; }
        .donation-promo-title { font-size: 1.8rem; }
    }
</style>

<header class="service-hero">
    <div class="video-background">
        <iframe src="https://www.youtube.com/embed/odpTDkvJBpw?autoplay=1&mute=1&loop=1&playlist=odpTDkvJBpw&controls=0&showinfo=0&rel=0&playsinline=1" frameborder="0" allowfullscreen></iframe>
    </div>
    <div class="hero-content">
        <h1 class="hero-title">ä¿¡ä»°æœ‰ä¾ â€§ å¿ƒå®‰å³å®¶</h1>
        <div class="hero-subtitle"><p>ä¸­å£‡å…ƒå¸¥èˆ‡å…ƒå¸¥å¨˜ï¼Œä»¥æ…ˆæ‚²ä¹‹å¿ƒï¼Œ<br>åšæ‚¨å …å¯¦çš„ä¾é ï¼Œè®“æ‡¸è‘—çš„å¿ƒå¾æ­¤è¸å¯¦ã€‚</p></div>
        <div class="hero-nav">
            <a href="#gongtan" class="nav-anchor">ğŸ™Œ ç¾å ´å•äº‹</a>
            <a href="#clothes-process" class="nav-anchor">ğŸ“¦ å¯„å›è¡£ç‰©</a>
            <a href="{{ url_for('donation_page') }}" class="nav-anchor">ğŸ•¯ï¸ ç·šä¸Šæé¦™</a>
        </div>
    </div>
</header>

<section id="gongtan" class="gongtan-section">
    <div class="gongtan-img-box">
        <img src="{{ url_for('static', filename='images/pages/gongtan/signuppic.jpg') }}" alt="å…ƒå¸¥è¾¦äº‹" class="gongtan-img">
    </div>
    <div class="gongtan-content">
        <div class="section-header"><h2>å…¬å£‡å•äº‹ / æ”¶é©š</h2><span>æ¯é€±å›ºå®šé–‹å£‡ â€§ ç¾å ´æ›è™Ÿ</span></div>
        <div class="process-steps">
            <div class="step-item">
                <div class="step-title">1. å ±åå…¬å‘Š <a href="{{ links['å…ƒå¸¥å¨˜å®˜æ–¹LINE'] or '#' }}" target="_blank" class="line-btn">åŠ å…¥ LINE</a></div>
                <div class="step-desc">åŠ å…¥ LINE ç¾¤çµ„ï¼Œé—œæ³¨ä¸‹å€‹æœˆçš„å…¬å£‡æ—¥æœŸã€å ±åæ—¥æœŸåŠé–‹æ”¾åé¡ã€‚<br><small style="color:red;">*æ¯äººé™åŠ 1ç¾¤é•è€…è¸¢ç¾¤ã€‚</small></div>
            </div>
            <div class="step-item">
                <div class="step-title">2. ç·šä¸Šå ±å</div>
                <div class="step-desc">å ±åç•¶æ—¥ç”±å°ç·¨ç™¼å¸ƒã€Œå ±åé–‹å§‹ã€å¾Œï¼Œéœ€ç«‹å³åœ¨ç¾¤çµ„ç•™è¨€ã€Œ+1ã€ï¼Œé¡æ»¿å³æ­¢ã€‚</div>
            </div>
            <div class="step-item">
                <div class="step-title">3. åå–®å…¬å‘Š & ç¾å ´å•äº‹</div>
                <div class="step-desc">ç­‰å¾…ç¾©å·¥å…¬å‘Šåå–®ï¼Œä¸¦æ–¼å…¬å‘Šæ™‚é–“å…©å°æ™‚å…§å ±åˆ°ã€‚</div>
            </div>
        </div>
    </div>
</section>

<section class="feedback-section">
    <div style="text-align:center; margin-bottom:30px;">
        <h2 style="color:#8B4513; margin:0;">ğŸ’¬ ä¿¡å¾’çœŸå¯¦å›é¥‹</h2>
    </div>
    <div class="marquee-wrapper">
        <div class="marquee-track" id="feedback-track"><div style="padding:20px;">è¼‰å…¥ä¸­...</div></div>
    </div>
    <div class="fb-link"><a href="{{ url_for('feedback_page') }}" style="color:#C48945; font-weight:bold; text-decoration:underline;">æŸ¥çœ‹æ›´å¤šè¦‹è­‰ &raquo;</a></div>
</section>

<section id="clothes-process" class="clothes-process-section">
    <div class="section-header" style="text-align:center; border:none; padding:0;">
        <h2>è¡£ç‰©æ”¶é©šæœå‹™æµç¨‹</h2>
        <span>è¦ªé€æˆ–éƒµå¯„çš†å¯ï¼Œè®“å…ƒå¸¥çš„åº‡ä½‘é›¶è·é›¢</span>
    </div>

    <div class="process-card-container">
        <div class="process-card">
            <div class="card-title">æ­¥é©Ÿä¸€ï¼šæº–å‚™è¡£ç‰©</div>
            <div class="card-desc">æº–å‚™ä¸€ä»¶è¼•è–„è¡£ç‰©ï¼Œä¸¦å°‡å€‹äººè³‡è¨Šå¯«æ–¼ç´…ç´™å¾Œï¼Œå¤¾å¸¶æ–¼è¡£æœä¸­ã€‚<br> æ¯ä¸€ä»¶éƒ½è¦å¯«ï¼</div>
            <div class="card-image-box"><img src="{{ url_for('static', filename='images/pages/shoujing/card1.png') }}" alt="æ­¥é©Ÿä¸€"></div>
            <button class="card-btn" onclick="openModal('modal-step1')">ç´…ç´™å¯«æ³•èˆ‡è¦ç¯„</button>
        </div>
        <div class="process-card">
            <div class="card-title">æ­¥é©ŸäºŒï¼šå¯„é€è¡£ç‰©</div>
            <div class="card-desc"><p>è¦ªé€ï¼šè¡£ç‰©èˆ‡è³‡æ–™è¦ªé€è‡³ã€Œå…«å…«è¸é…’ã€<br> éƒµå¯„ï¼š å°‡è¡£ç‰©èˆ‡è³‡æ–™ä¸€åŒéƒµå¯„è‡³å¸¥åºœã€‚</p></div>
            <div class="card-image-box"><img src="{{ url_for('static', filename='images/pages/shoujing/card2.png') }}" alt="æ­¥é©ŸäºŒ"></div>
            <button class="card-btn" onclick="openModal('modal-step2')">æŸ¥çœ‹æ”¶ä»¶è³‡è¨Š</button>
        </div>
        <div class="process-card">
            <div class="card-title">æ­¥é©Ÿä¸‰ï¼šé€²åº¦èˆ‡é ˜å–</div>
            <div class="card-desc"><p>é—œæ³¨ç¾¤çµ„é€šçŸ¥ã€‚<br><strong>è‡ªå–</strong>ï¼šä¾å…¬å‘Šç·¨è™Ÿå–å›ã€‚<br><strong>å¯„å›</strong>ï¼šè‡ªè¡Œå®‰æ’åˆ°ä»˜å¿«éã€‚</p></div>
            <div class="card-image-box"><img src="{{ url_for('static', filename='images/pages/shoujing/card3.png') }}" alt="æ­¥é©Ÿä¸‰"></div>
            <button class="card-btn" onclick="openModal('modal-step3')">é»‘è²“é ç´„èˆ‡ç™»è¨˜</button>
        </div>
    </div>
</section>

<section class="donation-promo-section">
    <div class="donation-promo-content">
        <img src="{{ url_for('static', filename='images/pages/incense/product1.png') }}" alt="æé¦™" class="donation-icon">
        <h2 class="donation-promo-title">ä»£è¾¦æé¦™ â€§ è­·æŒå…¬å£‡</h2>
        <p class="donation-promo-desc">
            æ‚¨çš„æ¯ä¸€ä»½è­·æŒï¼Œéƒ½å°‡åŒ–ä½œå…¬å£‡è¾¦äº‹æ™‚çš„è£Šè£Šé¦™ç…™ã€‚<br>
            æˆ‘å€‘å°‡æ–¼è¾¦äº‹æ™‚å‘å…ƒå¸¥ç¨Ÿå ±æ‚¨çš„å¿ƒæ„èˆ‡ç¥ˆé¡˜ã€‚
        </p>
        <a href="{{ url_for('donation_page') }}" class="btn-action">æˆ‘è¦ç·šä¸Šæé¦™</a>
    </div>
</section>

<div id="modal-step1" class="modal-overlay">
    <div class="modal-box">
        <span class="modal-close" onclick="closeModal('modal-step1')">&times;</span>
        <div class="modal-title">ç´…ç´™å¡«å¯«èˆ‡è¡£ç‰©è¦ç¯„</div>
        <div class="modal-body">
            <div class="red-paper-visual">
                <div class="red-paper-date">å¯„ä»¶æ—¥æœŸ (å·¦ä¸Šè§’)</div>
                <div class="red-paper-content">
                    <div class="red-paper-row">å§“åï¼šç‹å¤§æ˜</div>
                    <div class="red-paper-row">åœ°å€ï¼šå˜‰ç¾©å¸‚...</div>
                    <div class="red-paper-row">è¾²æ›†ç”Ÿæ—¥ï¼š75/01/01</div>
                    <div class="red-paper-row">æ™‚è¾°ï¼šå‰æ™‚</div>
                    <div class="red-paper-row">é›»è©±ï¼š0912-345-678</div>
                </div>
            </div>
            
            <h4 style="color:#C48945; margin-top:20px;">1ï¸âƒ£ å€‹äººè³‡æ–™è¦æ±‚</h4>
            <ul>
                <li>å­—é«”éœ€ç«¯æ­£ã€å¤§ã€æ¸…æ¥šã€‚</li>
                <li><strong>æ¯ä»¶è¡£ç‰©</strong>çš†éœ€é™„ä¸€å¼µè³‡æ–™ï¼Œä¾é †åºç–Šå¥½ã€‚</li>
                <li>ç´…å–®å·¦ä¸Šè§’è«‹è¨»æ˜ã€Œå¯„ä»¶æ—¥æœŸã€ã€‚</li>
                <li><span style="color:red;">ç¦æ­¢å‚™è¨»ç‰¹æ®Šç¥ˆé¡˜</span>ã€‚</li>
            </ul>

            <h4 style="color:#C48945;">2ï¸âƒ£ è¡£ç‰©è¦æ±‚</h4>
            <p>â­• è¼•è–„ã€ä¹¾æ·¨ã€ç©¿éæ´—æ·¨çš„é•·çŸ­è¢–ä¸Šè¡£ã€‚</p>
            <p>âŒ ç„¡è¢–ã€åšé‡è¡£ç‰©ã€å¤§å­¸Tã€é‡ç¹”æ¯›è¡£ã€å¤–å¥—ã€å¸½Tã€‚</p>
            
            <h4 style="color:#C48945;">3ï¸âƒ£ ä½¿ç”¨æ–¹å¼</h4>
            <p>ğŸ“Œ å®Œæˆå¾Œå¯ç›´æ¥ç©¿ï¼Œæˆ–æ”¾æ•é ­ä¸‹ç¡ã€‚</p>
        </div>
    </div>
</div>

<div id="modal-step2" class="modal-overlay">
    <div class="modal-box">
        <span class="modal-close" onclick="closeModal('modal-step2')">&times;</span>
        <div class="modal-title">æ”¶ä»¶è³‡è¨Š</div>
        <div class="modal-body">
            <div style="background:#f9f9f9; padding:15px; border-radius:10px; margin-bottom:20px;">
                <h4 style="margin-top:0;">ğŸ  è¦ªè‡ªé€ä»¶</h4>
                <ul style="margin-bottom:0;">
                    <li>åœ°é»ï¼šå…«å…«è¸é…’</li>
                    <li>åœ°å€ï¼šå˜‰ç¾©å¸‚æ–°ç”Ÿè·¯ 337 è™Ÿ</li>
                    <li>æ™‚é–“ï¼šä¸Šåˆ 10:30 ï½ å‡Œæ™¨ 03:00</li>
                </ul>
            </div>
            <div style="background:#f9f9f9; padding:15px; border-radius:10px;">
                <h4 style="margin-top:0;">ğŸšš éƒµå¯„å¯„ä»¶</h4>
                <ul style="margin-bottom:0;">
                    <li>æ”¶ä»¶äººï¼šæ‰¿å¤©ä¸­æ‰¿åºœ (æ”¶é©šçµ„)</li>
                    <li>åœ°å€ï¼šå˜‰ç¾©å¸‚æ–°ç”Ÿè·¯ 337 è™Ÿ</li>
                    <li>é›»è©±ï¼š(å¯„ä»¶ä¸éœ€è¦é›»è©±)</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<div id="modal-step3" class="modal-overlay">
    <div class="modal-box">
        <span class="modal-close" onclick="closeModal('modal-step3')">&times;</span>
        <div class="modal-title">é»‘è²“é ç´„èˆ‡ç™»è¨˜</div>
        <div class="modal-body">
            <p style="background:#ffeaea; color:red; padding:10px; border-radius:5px; font-weight:bold;">
                âš  è«‹æ³¨æ„ï¼šè™•ç†å®Œç•¢å…¬å‘Šæ–¼ç¾¤çµ„ï¼Œè«‹æ–¼ 6 å€‹æœˆå…§å–å›ï¼Œé€¾æœŸå›æ”¶ã€‚
            </p>
            
            <h4 style="color:#C48945;">ğŸ± é»‘è²“å®…æ€¥ä¾¿ App é ç´„æ•™å­¸ (è‡ªè¡Œå«è»Š)</h4>
            <ol>
                <li>ä¸‹è¼‰ä¸¦é–‹å•Ÿã€Œé»‘è²“å®…æ€¥ä¾¿ Appã€ã€‚</li>
                <li>é¸æ“‡ã€Œå¸¸æº«å®…æ€¥ä¾¿ã€ &gt; ä»¶æ•¸é¸ã€Œ1ã€ã€‚</li>
                <li>å¯„ä»¶æ–¹å¼é¸ã€Œåˆ°åºœ (é»‘è²“åˆ°åºœå°å–®å¯„åŒ…è£¹)ã€ã€‚</li>
                <li>ä»˜è²»æ–¹å¼é¸ã€Œ<strong>åˆ°ä»˜å®…æ€¥ä¾¿</strong>ã€ã€‚</li>
                <li><strong>å¯„ä»¶äººè³‡è¨Š (å…«å…«è¸é…’)</strong>ï¼š
                    <ul>
                        <li>å§“åï¼šå…«å…«è¸é…’</li>
                        <li>åœ°å€ï¼šå˜‰ç¾©å¸‚æ±å€æ–°ç”Ÿè·¯337è™Ÿ</li>
                    </ul>
                </li>
                <li><strong>æ”¶ä»¶äººè³‡è¨Š (æ‚¨çš„è³‡æ–™)</strong>ï¼š
                    <ul>
                        <li>å§“åï¼šæ‚¨çš„åå­— + æ”¶é©šç·¨è™Ÿ (è‹¥æœ‰å¤šä»¶å¡«å…¶ä¸­ä¸€ä»¶å³å¯)</li>
                        <li>åœ°å€ï¼šæ‚¨çš„æ”¶ä»¶åœ°å€</li>
                    </ul>
                </li>
                <li>å…§å®¹ï¼šå¡«å¯«ã€Œè¡£æœç¸½ä»¶æ•¸ã€ (å¦‚ï¼š3)ã€‚</li>
                <li><strong>å¯„ä»¶æ—¥</strong>ï¼šè«‹ä¾ç…§ä¸‹æ–¹ç³»çµ±é¡¯ç¤ºçš„æ—¥æœŸå¡«å¯«ã€‚</li>
            </ol>

            <div style="text-align:center; margin-top:30px; border-top:1px dashed #ccc; padding-top:20px;">
                <p style="font-weight:bold; color:#333;">å·²æ”¶åˆ°å®Œæˆé€šçŸ¥ï¼Œä¸¦é ç´„å¥½é»‘è²“äº†å—ï¼Ÿ</p>
                <a href="{{ url_for('ship_clothes_page') }}" class="btn-action" style="text-decoration:none; display:inline-block; padding:12px 30px; border-radius:50px;">
                    ğŸ“ å¡«å¯«è¡£ç‰©ç™»è¨˜å–® (å‘ŠçŸ¥å¯„ä»¶æ—¥)
                </a>
            </div>
        </div>
    </div>
</div>

<script>
    function openModal(id) { document.getElementById(id).classList.add('show'); }
    
    // é—œé–‰ Modal (æ”¯æ´é»æ“Š X å’Œ èƒŒæ™¯)
    function closeModal(id) { document.getElementById(id).classList.remove('show'); }
    
    // å…¨åŸŸé»æ“Šç›£è½ (é»èƒŒæ™¯é—œé–‰)
    window.onclick = function(event) {
        if (event.target.classList.contains('modal-overlay')) {
            event.target.classList.remove('show');
        }
    }
    
    // è·‘é¦¬ç‡ˆ
    document.addEventListener('DOMContentLoaded', () => {
        fetch('/api/feedback/approved').then(r=>r.json()).then(data => {
            const track = document.getElementById('feedback-track');
            if(!data.length) { track.innerHTML = '<div style="padding:20px; width:100vw; text-align:center;">æš«ç„¡å›é¥‹è³‡æ–™</div>'; return; }
            const cards = data.map(i => `
                <div class="feedback-card">
                    <div class="fb-header">
                        <div class="fb-avatar">${i.nickname?i.nickname[0]:'å–„'}</div>
                        <div><b>${i.nickname}</b><br><small style="color:#999">${i.category}</small></div>
                    </div>
                    <div class="fb-content">${i.content}</div>
                </div>`).join('');
            
            // è¤‡è£½å…§å®¹ä»¥å¡«æ»¿è·‘é¦¬ç‡ˆ
            let content = cards;
            if(data.length < 5) content += content + content;
            track.innerHTML = content + content;
        });
    });
</script>
{% endblock %}